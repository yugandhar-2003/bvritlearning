// Define the quiz data for File Handling in C
const fileHandlingQuizData = [
    {
        "question": "Which tag is used to define the main content of an HTML document?",
        "choices": ["<main>", "<content>", "<section>", "<body>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a navigation section in an HTML document?",
        "choices": ["<nav>", "<navigation>", "<menu>", "<links>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a section of related content?",
        "choices": ["<section>", "<article>", "<div>", "<group>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a header for a document or section?",
        "choices": ["<header>", "<hgroup>", "<head>", "<top>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a footer for a document or section?",
        "choices": ["<footer>", "<bottom>", "<end>", "<foot>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a standalone piece of content that can be distributed separately?",
        "choices": ["<article>", "<section>", "<aside>", "<div>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define content aside from the main content, often for related information?",
        "choices": ["<aside>", "<section>", "<article>", "<nav>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to group a set of related elements, typically used for styling?",
        "choices": ["<div>", "<group>", "<section>", "<container>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define an inline container for text and other inline elements?",
        "choices": ["<span>", "<div>", "<section>", "<inline>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a container for content that can be used for styling purposes?",
        "choices": ["<div>", "<container>", "<box>", "<section>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a form in HTML?",
        "choices": ["<form>", "<input>", "<fieldset>", "<group>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define an HTML documentâ€™s metadata?",
        "choices": ["<meta>", "<header>", "<title>", "<head>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to include an external CSS file in an HTML document?",
        "choices": ["<link>", "<style>", "<script>", "<css>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a block of code in an HTML document?",
        "choices": ["<pre>", "<code>", "<block>", "<script>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define an unordered list in HTML?",
        "choices": ["<ul>", "<ol>", "<list>", "<items>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a list item in an HTML list?",
        "choices": ["<li>", "<item>", "<listitem>", "<point>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a table row in HTML?",
        "choices": ["<tr>", "<row>", "<table-row>", "<line>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a definition list?",
        "choices": ["<dl>", "<list>", "<definition>", "<details>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a term in a definition list?",
        "choices": ["<dt>", "<term>", "<item>", "<definition>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a description in a definition list?",
        "choices": ["<dd>", "<description>", "<desc>", "<item>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a section of navigation links?",
        "choices": ["<nav>", "<links>", "<menu>", "<navigation>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a semantic container for a grouping of related content?",
        "choices": ["<section>", "<group>", "<container>", "<div>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a clickable button in HTML?",
        "choices": ["<button>", "<click>", "<press>", "<input>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a block of content that acts as a quote from another source?",
        "choices": ["<blockquote>", "<quote>", "<cquote>", "<source>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to include a script in an HTML document?",
        "choices": ["<script>", "<js>", "<code>", "<include>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a horizontal line in an HTML document?",
        "choices": ["<hr>", "<line>", "<separator>", "<break>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a strong emphasis or important text?",
        "choices": ["<strong>", "<b>", "<em>", "<important>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define italicized text in HTML?",
        "choices": ["<i>", "<em>", "<italic>", "<style>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define emphasized text in HTML?",
        "choices": ["<em>", "<i>", "<strong>", "<highlight>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a line break in HTML?",
        "choices": ["<br>", "<break>", "<newline>", "<line>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a form control for user input?",
        "choices": ["<input>", "<text>", "<field>", "<formcontrol>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a section that includes additional information or notes?",
        "choices": ["<aside>", "<note>", "<extra>", "<details>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define the title of an HTML document?",
        "choices": ["<title>", "<head>", "<name>", "<meta>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a navigation menu?",
        "choices": ["<nav>", "<menu>", "<links>", "<section>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a self-contained piece of content?",
        "choices": ["<article>", "<section>", "<block>", "<div>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a form control for entering a single line of text?",
        "choices": ["<input>", "<text>", "<textarea>", "<field>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a section in an HTML document that is likely to be indexed?",
        "choices": ["<section>", "<group>", "<block>", "<container>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to provide a caption or title for a table?",
        "choices": ["<caption>", "<title>", "<name>", "<header>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to include an external JavaScript file in an HTML document?",
        "choices": ["<script>", "<js>", "<include>", "<link>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a table body section?",
        "choices": ["<tbody>", "<tablebody>", "<section>", "<block>"],
        "correctAnswer": 0
    }
];

let currentFileHandlingQuestion = 0;
let fileHandlingScore = 0;
let fileHandlingAttempt = JSON.parse(localStorage.getItem('htmlsems')) || 0;
let fileHandlingScores = JSON.parse(localStorage.getItem('htmlsem')) || [];

const fileHandlingQuestionElement = document.getElementById('question');
const fileHandlingChoicesElement = document.getElementById('choices');
const fileHandlingResultElement = document.getElementById('result');
const fileHandlingNextButton = document.getElementById('next-btn');
const fileHandlingProgressElement = document.getElementById('current-question');
const fileHandlingScoresList = document.getElementById('scores-list');
const fileHandlingReattemptButton = document.getElementById('reattempt-btn');

function loadFileHandlingQuestion() {
    const q = fileHandlingQuizData[currentFileHandlingQuestion];
    fileHandlingQuestionElement.textContent = q.question;

    fileHandlingChoicesElement.innerHTML = '';
    q.choices.forEach((choice, index) => {
        const li = document.createElement('li');
        li.textContent = choice;
        li.addEventListener('click', () => checkFileHandlingAnswer(index));
        fileHandlingChoicesElement.appendChild(li);
    });

    fileHandlingProgressElement.textContent = currentFileHandlingQuestion + 1;
}

function checkFileHandlingAnswer(index) {
    const correctAnswerIndex = fileHandlingQuizData[currentFileHandlingQuestion].correctAnswer;
    if (index === correctAnswerIndex) {
        fileHandlingScore++;
        fileHandlingResultElement.textContent = 'Correct!';
    } else {
        fileHandlingResultElement.textContent = `Wrong! The correct answer is: ${fileHandlingQuizData[currentFileHandlingQuestion].choices[correctAnswerIndex]}`;
    }
    disableFileHandlingChoices();
    fileHandlingNextButton.disabled = false;
}

function disableFileHandlingChoices() {
    fileHandlingChoicesElement.querySelectorAll('li').forEach(choice => {
        choice.style.cursor = 'not-allowed';
        choice.style.backgroundColor = '#ccc';
    });
}

function nextFileHandlingQuestion() {
    currentFileHandlingQuestion++;
    if (currentFileHandlingQuestion < fileHandlingQuizData.length) {
        loadFileHandlingQuestion();
        fileHandlingResultElement.textContent = '';
        fileHandlingNextButton.disabled = true;
    } else {
        showFileHandlingResults();
    }
}

function showFileHandlingResults() {
    fileHandlingQuestionElement.textContent = `File Handling Quiz completed! You scored ${fileHandlingScore} out of ${fileHandlingQuizData.length}.`;
    fileHandlingChoicesElement.innerHTML = '';
    fileHandlingResultElement.textContent = '';
    fileHandlingNextButton.style.display = 'none';
    fileHandlingReattemptButton.style.display = 'inline-block';

    // Increment attempt count
    fileHandlingAttempt++;
    localStorage.setItem('htmlsems', JSON.stringify(fileHandlingAttempt));

    // Save score to scores array
    fileHandlingScores.push({
        attempt: fileHandlingAttempt,
        score: fileHandlingScore
    });
    localStorage.setItem('htmlsem', JSON.stringify(fileHandlingScores));

    // Display scores
    displayFileHandlingScores();
}

function displayFileHandlingScores() {
    fileHandlingScoresList.innerHTML = '';
    fileHandlingScores.forEach(scoreItem => {
        const li = document.createElement('li');
        li.textContent = `Attempt ${scoreItem.attempt}: ${scoreItem.score} / ${fileHandlingQuizData.length}`;
        fileHandlingScoresList.appendChild(li);
    });
}

function reattemptFileHandlingQuiz() {
    currentFileHandlingQuestion = 0;
    fileHandlingScore = 0;
    fileHandlingNextButton.style.display = 'inline-block';
    fileHandlingReattemptButton.style.display = 'none';
    loadFileHandlingQuestion();
    fileHandlingResultElement.textContent = '';
}

fileHandlingNextButton.addEventListener('click', nextFileHandlingQuestion);
fileHandlingReattemptButton.addEventListener('click', reattemptFileHandlingQuiz);

// Initial load
loadFileHandlingQuestion();
displayFileHandlingScores();
