// Define the quiz data for File Handling in C
const fileHandlingQuizData = [
    {
        "question": "Which tag is used to create a form in HTML?",
        "choices": ["<form>", "<input>", "<fieldset>", "<group>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute specifies the URL where the form data will be sent?",
        "choices": ["action", "method", "target", "enctype"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute specifies the HTTP method to be used when submitting a form?",
        "choices": ["method", "action", "target", "enctype"],
        "correctAnswer": 0
    },
    {
        "question": "Which HTTP method sends form data to the server as part of the URL?",
        "choices": ["GET", "POST", "PUT", "DELETE"],
        "correctAnswer": 0
    },
    {
        "question": "Which HTTP method sends form data to the server in the body of the request?",
        "choices": ["POST", "GET", "PUT", "DELETE"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create an input field for user text input?",
        "choices": ["<input>", "<text>", "<field>", "<textarea>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies the type of input field?",
        "choices": ["type", "name", "value", "placeholder"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select a single item from a list?",
        "choices": ["<select>", "<input type='radio'>", "<input type='checkbox'>", "<input type='text'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a drop-down list?",
        "choices": ["<select>", "<option>", "<list>", "<menu>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define an option in a <select> drop-down list?",
        "choices": ["<option>", "<listitem>", "<choice>", "<item>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies the default value?",
        "choices": ["value", "placeholder", "name", "type"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select multiple options from a list?",
        "choices": ["<input type='checkbox'>", "<input type='radio'>", "<select multiple>", "<input type='text'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a text area for multi-line input?",
        "choices": ["<textarea>", "<input>", "<field>", "<text>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <textarea> tag specifies the number of visible text lines?",
        "choices": ["rows", "cols", "size", "length"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <textarea> tag specifies the width of the text area?",
        "choices": ["cols", "rows", "size", "length"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select a date?",
        "choices": ["<input type='date'>", "<input type='text'>", "<input type='datetime'>", "<input type='time'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select a color?",
        "choices": ["<input type='color'>", "<input type='text'>", "<input type='date'>", "<input type='range'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies whether the field is required to be filled out?",
        "choices": ["required", "placeholder", "value", "type"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag provides a hint about the expected value?",
        "choices": ["placeholder", "value", "name", "type"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to enter a password?",
        "choices": ["<input type='password'>", "<input type='text'>", "<input type='email'>", "<input type='hidden'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to group related form elements?",
        "choices": ["<fieldset>", "<group>", "<section>", "<form>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a legend for a <fieldset>?",
        "choices": ["<legend>", "<caption>", "<title>", "<header>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <form> tag specifies the character encoding for form submission?",
        "choices": ["enctype", "method", "action", "target"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies the maximum number of characters allowed?",
        "choices": ["maxlength", "size", "length", "limit"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to enter a number?",
        "choices": ["<input type='number'>", "<input type='text'>", "<input type='range'>", "<input type='date'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select a file?",
        "choices": ["<input type='file'>", "<input type='text'>", "<input type='image'>", "<input type='url'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a submit button in a form?",
        "choices": ["<button>", "<submit>", "<input type='submit'>", "<action>"],
        "correctAnswer": 2
    },
    {
        "question": "Which tag is used to create a reset button in a form?",
        "choices": ["<button>", "<input type='reset'>", "<reset>", "<clear>"],
        "correctAnswer": 1
    },
    {
        "question": "Which type of <input> field allows the user to enter a time?",
        "choices": ["<input type='time'>", "<input type='text'>", "<input type='datetime'>", "<input type='date'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to enter an email address?",
        "choices": ["<input type='email'>", "<input type='text'>", "<input type='url'>", "<input type='password'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag defines the unique name of the input field?",
        "choices": ["name", "id", "class", "value"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a multi-line text input field?",
        "choices": ["<textarea>", "<input>", "<field>", "<text>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a form element for user comments or reviews?",
        "choices": ["<textarea>", "<input>", "<field>", "<text>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies a placeholder text?",
        "choices": ["placeholder", "value", "name", "type"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select a range of numbers?",
        "choices": ["<input type='range'>", "<input type='number'>", "<input type='text'>", "<input type='date'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a section of related form controls?",
        "choices": ["<fieldset>", "<section>", "<group>", "<container>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies that the input field should be disabled?",
        "choices": ["disabled", "readonly", "required", "placeholder"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select from a list of options with checkboxes?",
        "choices": ["<input type='checkbox'>", "<input type='radio'>", "<select multiple>", "<input type='text'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag is used to make the field read-only?",
        "choices": ["readonly", "disabled", "required", "placeholder"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute of the <input> tag specifies that the field is required?",
        "choices": ["required", "disabled", "readonly", "placeholder"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to enter a URL?",
        "choices": ["<input type='url'>", "<input type='text'>", "<input type='email'>", "<input type='password'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which type of <input> field allows the user to select a file from their device?",
        "choices": ["<input type='file'>", "<input type='text'>", "<input type='image'>", "<input type='url'>"],
        "correctAnswer": 0
    }
];
let currentFileHandlingQuestion = 0;
let fileHandlingScore = 0;
let fileHandlingAttempt = JSON.parse(localStorage.getItem('htmlForms')) || 0;
let fileHandlingScores = JSON.parse(localStorage.getItem('htmlForm')) || [];

const fileHandlingQuestionElement = document.getElementById('question');
const fileHandlingChoicesElement = document.getElementById('choices');
const fileHandlingResultElement = document.getElementById('result');
const fileHandlingNextButton = document.getElementById('next-btn');
const fileHandlingProgressElement = document.getElementById('current-question');
const fileHandlingScoresList = document.getElementById('scores-list');
const fileHandlingReattemptButton = document.getElementById('reattempt-btn');

function loadFileHandlingQuestion() {
    const q = fileHandlingQuizData[currentFileHandlingQuestion];
    fileHandlingQuestionElement.textContent = q.question;

    fileHandlingChoicesElement.innerHTML = '';
    q.choices.forEach((choice, index) => {
        const li = document.createElement('li');
        li.textContent = choice;
        li.addEventListener('click', () => checkFileHandlingAnswer(index));
        fileHandlingChoicesElement.appendChild(li);
    });

    fileHandlingProgressElement.textContent = currentFileHandlingQuestion + 1;
}

function checkFileHandlingAnswer(index) {
    const correctAnswerIndex = fileHandlingQuizData[currentFileHandlingQuestion].correctAnswer;
    if (index === correctAnswerIndex) {
        fileHandlingScore++;
        fileHandlingResultElement.textContent = 'Correct!';
    } else {
        fileHandlingResultElement.textContent = `Wrong! The correct answer is: ${fileHandlingQuizData[currentFileHandlingQuestion].choices[correctAnswerIndex]}`;
    }
    disableFileHandlingChoices();
    fileHandlingNextButton.disabled = false;
}

function disableFileHandlingChoices() {
    fileHandlingChoicesElement.querySelectorAll('li').forEach(choice => {
        choice.style.cursor = 'not-allowed';
        choice.style.backgroundColor = '#ccc';
    });
}

function nextFileHandlingQuestion() {
    currentFileHandlingQuestion++;
    if (currentFileHandlingQuestion < fileHandlingQuizData.length) {
        loadFileHandlingQuestion();
        fileHandlingResultElement.textContent = '';
        fileHandlingNextButton.disabled = true;
    } else {
        showFileHandlingResults();
    }
}

function showFileHandlingResults() {
    fileHandlingQuestionElement.textContent = `File Handling Quiz completed! You scored ${fileHandlingScore} out of ${fileHandlingQuizData.length}.`;
    fileHandlingChoicesElement.innerHTML = '';
    fileHandlingResultElement.textContent = '';
    fileHandlingNextButton.style.display = 'none';
    fileHandlingReattemptButton.style.display = 'inline-block';

    // Increment attempt count
    fileHandlingAttempt++;
    localStorage.setItem('htmlForms', JSON.stringify(fileHandlingAttempt));

    // Save score to scores array
    fileHandlingScores.push({
        attempt: fileHandlingAttempt,
        score: fileHandlingScore
    });
    localStorage.setItem('htmlForm', JSON.stringify(fileHandlingScores));

    // Display scores
    displayFileHandlingScores();
}

function displayFileHandlingScores() {
    fileHandlingScoresList.innerHTML = '';
    fileHandlingScores.forEach(scoreItem => {
        const li = document.createElement('li');
        li.textContent = `Attempt ${scoreItem.attempt}: ${scoreItem.score} / ${fileHandlingQuizData.length}`;
        fileHandlingScoresList.appendChild(li);
    });
}

function reattemptFileHandlingQuiz() {
    currentFileHandlingQuestion = 0;
    fileHandlingScore = 0;
    fileHandlingNextButton.style.display = 'inline-block';
    fileHandlingReattemptButton.style.display = 'none';
    loadFileHandlingQuestion();
    fileHandlingResultElement.textContent = '';
}

fileHandlingNextButton.addEventListener('click', nextFileHandlingQuestion);
fileHandlingReattemptButton.addEventListener('click', reattemptFileHandlingQuiz);

// Initial load
loadFileHandlingQuestion();
displayFileHandlingScores();
