// Define the quiz data for File Handling in C
const fileHandlingQuizData =[
    {
        "question": "What does HTML stand for?",
        "choices": ["HyperText Markup Language", "HighText Markup Language", "HyperTabular Markup Language", "HyperText MultiLanguage"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define the title of an HTML document?",
        "choices": ["<title>", "<head>", "<meta>", "<header>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a hyperlink in HTML?",
        "choices": ["<link>", "<a>", "<hyperlink>", "<url>"],
        "correctAnswer": 1
    },
    {
        "question": "How do you create a numbered list in HTML?",
        "choices": ["<ol>", "<ul>", "<list>", "<nl>"],
        "correctAnswer": 0
    },
    {
        "question": "Which HTML element is used to display a picture?",
        "choices": ["<image>", "<pic>", "<img>", "<photo>"],
        "correctAnswer": 2
    },
    {
        "question": "Which tag is used to define a table row in HTML?",
        "choices": ["<row>", "<tr>", "<td>", "<th>"],
        "correctAnswer": 1
    },
    {
        "question": "How do you specify the text that appears as a tooltip when you hover over an element?",
        "choices": ["title attribute", "alt attribute", "hover attribute", "tooltip attribute"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define the main heading in HTML?",
        "choices": ["<heading>", "<h1>", "<main>", "<header>"],
        "correctAnswer": 1
    },
    {
        "question": "Which tag is used to create a form in HTML?",
        "choices": ["<form>", "<input>", "<button>", "<field>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you insert a comment in HTML?",
        "choices": ["<!-- Comment -->", "// Comment", "/* Comment */", "# Comment"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute is used to specify the URL of a linked document?",
        "choices": ["src", "href", "link", "url"],
        "correctAnswer": 1
    },
    {
        "question": "What does the <br> tag do in HTML?",
        "choices": ["Inserts a line break", "Inserts a horizontal rule", "Inserts a space", "Inserts a new paragraph"],
        "correctAnswer": 0
    },
    {
        "question": "Which HTML tag is used to create a drop-down list?",
        "choices": ["<select>", "<dropdown>", "<list>", "<option>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you define a paragraph in HTML?",
        "choices": ["<p>", "<para>", "<paragraph>", "<text>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to include JavaScript in an HTML document?",
        "choices": ["<script>", "<js>", "<code>", "<javascript>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you specify an alternate text for an image if it cannot be displayed?",
        "choices": ["alt attribute", "src attribute", "title attribute", "text attribute"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create an unordered list in HTML?",
        "choices": ["<ol>", "<ul>", "<list>", "<item>"],
        "correctAnswer": 1
    },
    {
        "question": "What is the purpose of the <meta> tag in HTML?",
        "choices": ["Defines metadata about the HTML document", "Defines the main heading", "Defines a link to a stylesheet", "Defines a table"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a table header in HTML?",
        "choices": ["<th>", "<thead>", "<header>", "<h1>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you create a text input field in HTML?",
        "choices": ["<input type='text'>", "<textfield>", "<input type='textfield'>", "<textinput>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define an HTML document's body?",
        "choices": ["<body>", "<main>", "<content>", "<section>"],
        "correctAnswer": 0
    },
    {
        "question": "What is the correct way to define an HTML document structure?",
        "choices": ["<html><head><title></title></head><body></body></html>", "<document><head><title></title></head><body></body></document>", "<html><header><title></title></header><content></content></html>", "<html><head></head><body></body></html>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to add a comment in HTML?",
        "choices": ["<!-- Comment -->", "<comment> Comment </comment>", "<!-- Comment", "<comment> Comment -->"],
        "correctAnswer": 0
    },
    {
        "question": "What does the <hr> tag do in HTML?",
        "choices": ["Inserts a horizontal line", "Inserts a new paragraph", "Inserts a line break", "Inserts a space"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute is used to specify the URL of an image?",
        "choices": ["src", "href", "link", "url"],
        "correctAnswer": 0
    },
    {
        "question": "How do you make text bold in HTML?",
        "choices": ["<strong>", "<bold>", "<b>", "<em>"],
        "correctAnswer": 2
    },
    {
        "question": "Which tag is used to define a list item in HTML?",
        "choices": ["<item>", "<li>", "<list>", "<liitem>"],
        "correctAnswer": 1
    },
    {
        "question": "How do you create a hyperlink that opens in a new tab?",
        "choices": ["<a href='url' target='_blank'>", "<a href='url' target='_new'>", "<a href='url' newtab>", "<a href='url' opennew>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a dropdown menu?",
        "choices": ["<select>", "<menu>", "<dropdown>", "<option>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you add a background color to an HTML element?",
        "choices": ["style='background-color: color;' ", "bgcolor='color'", "<background color='color'>", "color='color'"],
        "correctAnswer": 0
    },
    {
        "question": "What is the purpose of the <link> tag in HTML?",
        "choices": ["Defines a link to an external resource", "Defines a hyperlink", "Defines a script", "Defines a style"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define the metadata in an HTML document?",
        "choices": ["<meta>", "<head>", "<data>", "<info>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you create a form input of type checkbox?",
        "choices": ["<input type='checkbox'>", "<checkbox>", "<input type='check'>", "<input type='box'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a table cell in HTML?",
        "choices": ["<td>", "<cell>", "<data>", "<table>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you define a link to an external stylesheet in HTML?",
        "choices": ["<link rel='stylesheet' href='style.css'>", "<style src='style.css'>", "<css href='style.css'>", "<stylesheet href='style.css'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to create a block of code in HTML?",
        "choices": ["<code>", "<pre>", "<script>", "<block>"],
        "correctAnswer": 1
    },
    {
        "question": "How do you include an external JavaScript file in an HTML document?",
        "choices": ["<script src='file.js'>", "<js src='file.js'>", "<script href='file.js'>", "<include src='file.js'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which tag is used to define a section in an HTML document?",
        "choices": ["<section>", "<div>", "<article>", "<header>"],
        "correctAnswer": 0
    },
    {
        "question": "How do you create a radio button in HTML?",
        "choices": ["<input type='radio'>", "<radio>", "<input type='button'>", "<button type='radio'>"],
        "correctAnswer": 0
    },
    {
        "question": "Which attribute is used to specify the type of an input element in HTML?",
        "choices": ["type", "class", "id", "name"],
        "correctAnswer": 0
    }
];
let currentFileHandlingQuestion = 0;
let fileHandlingScore = 0;
let fileHandlingAttempt = JSON.parse(localStorage.getItem('htmlbasic')) || 0;
let fileHandlingScores = JSON.parse(localStorage.getItem('htmlbasics')) || [];

const fileHandlingQuestionElement = document.getElementById('question');
const fileHandlingChoicesElement = document.getElementById('choices');
const fileHandlingResultElement = document.getElementById('result');
const fileHandlingNextButton = document.getElementById('next-btn');
const fileHandlingProgressElement = document.getElementById('current-question');
const fileHandlingScoresList = document.getElementById('scores-list');
const fileHandlingReattemptButton = document.getElementById('reattempt-btn');

function loadFileHandlingQuestion() {
    const q = fileHandlingQuizData[currentFileHandlingQuestion];
    fileHandlingQuestionElement.textContent = q.question;

    fileHandlingChoicesElement.innerHTML = '';
    q.choices.forEach((choice, index) => {
        const li = document.createElement('li');
        li.textContent = choice;
        li.addEventListener('click', () => checkFileHandlingAnswer(index));
        fileHandlingChoicesElement.appendChild(li);
    });

    fileHandlingProgressElement.textContent = currentFileHandlingQuestion + 1;
}

function checkFileHandlingAnswer(index) {
    const correctAnswerIndex = fileHandlingQuizData[currentFileHandlingQuestion].correctAnswer;
    if (index === correctAnswerIndex) {
        fileHandlingScore++;
        fileHandlingResultElement.textContent = 'Correct!';
    } else {
        fileHandlingResultElement.textContent = `Wrong! The correct answer is: ${fileHandlingQuizData[currentFileHandlingQuestion].choices[correctAnswerIndex]}`;
    }
    disableFileHandlingChoices();
    fileHandlingNextButton.disabled = false;
}

function disableFileHandlingChoices() {
    fileHandlingChoicesElement.querySelectorAll('li').forEach(choice => {
        choice.style.cursor = 'not-allowed';
        choice.style.backgroundColor = '#ccc';
    });
}

function nextFileHandlingQuestion() {
    currentFileHandlingQuestion++;
    if (currentFileHandlingQuestion < fileHandlingQuizData.length) {
        loadFileHandlingQuestion();
        fileHandlingResultElement.textContent = '';
        fileHandlingNextButton.disabled = true;
    } else {
        showFileHandlingResults();
    }
}

function showFileHandlingResults() {
    fileHandlingQuestionElement.textContent = `File Handling Quiz completed! You scored ${fileHandlingScore} out of ${fileHandlingQuizData.length}.`;
    fileHandlingChoicesElement.innerHTML = '';
    fileHandlingResultElement.textContent = '';
    fileHandlingNextButton.style.display = 'none';
    fileHandlingReattemptButton.style.display = 'inline-block';

    // Increment attempt count
    fileHandlingAttempt++;
    localStorage.setItem('htmlbasic', JSON.stringify(fileHandlingAttempt));

    // Save score to scores array
    fileHandlingScores.push({
        attempt: fileHandlingAttempt,
        score: fileHandlingScore
    });
    localStorage.setItem('htmlbasics', JSON.stringify(fileHandlingScores));

    // Display scores
    displayFileHandlingScores();
}

function displayFileHandlingScores() {
    fileHandlingScoresList.innerHTML = '';
    fileHandlingScores.forEach(scoreItem => {
        const li = document.createElement('li');
        li.textContent = `Attempt ${scoreItem.attempt}: ${scoreItem.score} / ${fileHandlingQuizData.length}`;
        fileHandlingScoresList.appendChild(li);
    });
}

function reattemptFileHandlingQuiz() {
    currentFileHandlingQuestion = 0;
    fileHandlingScore = 0;
    fileHandlingNextButton.style.display = 'inline-block';
    fileHandlingReattemptButton.style.display = 'none';
    loadFileHandlingQuestion();
    fileHandlingResultElement.textContent = '';
}

fileHandlingNextButton.addEventListener('click', nextFileHandlingQuestion);
fileHandlingReattemptButton.addEventListener('click', reattemptFileHandlingQuiz);

// Initial load
loadFileHandlingQuestion();
displayFileHandlingScores();
